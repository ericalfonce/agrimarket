{% extends "base.html" %}

{% block content %}
<div class="dashboard-header">
    <h1>Welcome, {{ session.get('role')|capitalize }}</h1>
    <p>You are logged in as <strong>{{ session.get('role') }}</strong></p>
</div>

<div class="cards-container">
    <div class="card">
        <h3>Total Users</h3>
        <p>{{ total_users }}</p>
        <a href="{{ url_for('admin.manage_users') }}" class="btn btn-blue">Manage Users</a>
    </div>

    <div class="card">
        <h3>Total Products</h3>
        <p>{{ total_products }}</p>
        <a href="{{ url_for('admin.manage_products') }}" class="btn btn-green">Manage Products</a>
    </div>
</div>

<div class="recent-section">
    <h2>Recent Users</h2>
    <table class="table">
        <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>Role</th>
            <th>Status</th>
        </tr>
        {% for user in recent_users %}
        <tr>
            <td>{{ user[1] }}</td>
            <td>{{ user[2] }}</td>
            <td>{{ user[3] }}</td>
            <td>{{ user[4] }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2 style="margin-top:30px;">Recent Products</h2>
    <table class="table">
        <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Location</th>
        </tr>
        {% for product in recent_products %}
        <tr>
            <td>{{ product[1] }}</td>
            <td>{{ product[2] }}</td>
            <td>{{ product[3] }}</td>
            <td>{{ product[4] }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}
